<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Steven Vazny — Games</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #0b2340;
      color: white;
      text-align: center;
    }
    header {
      padding: 20px;
      background: #09192c;
    }
    header h1 { margin: 0; font-size: 2rem; }
    header a {
      display: block;
      margin-top: 8px;
      color: #4da3ff;
      text-decoration: none;
      font-size: 1.1rem;
    }
    main {
      padding: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }
    .game-section, .calendar-section {
      background: #132d50;
      padding: 15px;
      border-radius: 10px;
      flex: 1 1 300px;
      max-width: 400px;
    }
    canvas {
      display: block;
      margin: 20px auto;
      border: 4px solid #09192c;
      border-radius: 10px;
      width: 100%;
      height: auto;
      max-width: 320px;
      background: black;
    }
    #gameCanvas { background: #70c5ce; } /* Flappy Bird */
    .instructions {
      margin: 15px auto;
      padding: 10px;
      background: #0d243f;
      border-radius: 8px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #fff;
      padding: 5px;
      text-align: center;
    }
    th { background: #09192c; }
    td.today {
      background: #ffcc00;
      color: black;
      font-weight: bold;
    }
    .gif-container {
      margin-top: 15px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Steven Vazny</h1>
    <a href="https://www.instagram.com/svazny79/" target="_blank">@svazny79</a>
  </header>

  <main>
    <!-- Flappy Bird -->
    <div class="game-section">
      <h2>Flappy Bird</h2>
      <div class="instructions">
        <p><b>Click your mouse (desktop) or TAP (mobile) to flap.</b><br>
        Survive the pipes and beat your high score!<br>
        Game restarts automatically 2 seconds after <b>Game Over</b>.</p>
      </div>
      <canvas id="gameCanvas" width="320" height="480"></canvas>

      <!-- Asteroids -->
      <h2>Asteroids</h2>
      <div class="instructions">
        <p><b>Controls:</b><br>
        Click or Tap to shoot<br>
        ⬅️ ➡️ = rotate | ⬆️ = thrust<br>
        Infinite play — no Game Over!</p>
      </div>
      <canvas id="asteroidsCanvas" width="320" height="400"></canvas>
    </div>

    <!-- Calendar + GIF -->
    <div class="calendar-section">
      <h2>Calendar</h2>
      <table id="calendar"></table>

      <div class="gif-container">
        <iframe src="https://giphy.com/embed/OOlLpkrM5B9dw8GWtR" 
                width="300" height="200" 
                frameborder="0" 
                class="giphy-embed" 
                allowfullscreen></iframe>
      </div>
    </div>
  </main>

  <script>
    // ===== Flappy Bird =====
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    let frames = 0, gameStarted = false, gameOver = false, score = 0, bestScore = 0;
    const pipes = [];
    const bird = { x:50,y:150,w:34,h:26,gravity:0.25,jump:4.6,speed:0,
      draw(){ ctx.fillStyle="yellow";ctx.beginPath();ctx.arc(this.x,this.y,this.w/2,0,Math.PI*2);ctx.fill(); },
      flap(){ this.speed=-this.jump; },
      update(){ this.speed+=this.gravity; this.y+=this.speed;
        if(this.y+this.h/2>=canvas.height){ this.y=canvas.height-this.h/2;this.speed=0;if(!gameOver) triggerGameOver();}
      }
    };
    function drawPipes(){ctx.fillStyle="green";for(let p of pipes){ctx.fillRect(p.x,0,50,p.top);ctx.fillRect(p.x,p.top+100,50,canvas.height-p.top-100);}}
    function updatePipes(){if(frames%90===0){let top=Math.floor(Math.random()*(canvas.height-150))+20;pipes.push({x:canvas.width,top});}
      for(let i=0;i<pipes.length;i++){let p=pipes[i];p.x-=2;
        if(bird.x+bird.w/2>p.x&&bird.x-bird.w/2<p.x+50&&(bird.y-bird.h/2<p.top||bird.y+bird.h/2>p.top+100)){if(!gameOver) triggerGameOver();}
        if(p.x+50===bird.x) score++;if(p.x+50<0) pipes.shift();}
    }
    function drawScore(){ctx.fillStyle="white";ctx.font="20px Arial";ctx.fillText("Score: "+score,10,25);ctx.fillText("Best: "+bestScore,220,25);
      if(gameOver){ctx.font="28px Arial";ctx.fillText("GAME OVER!",70,canvas.height/2);}
    }
    function drawStartScreen(){ctx.fillStyle="#70c5ce";ctx.fillRect(0,0,canvas.width,canvas.height);
      ctx.fillStyle="white";ctx.font="20px Arial";ctx.fillText("Click or Tap to Start",60,canvas.height/2);}
    function draw(){ctx.fillStyle="#70c5ce";ctx.fillRect(0,0,canvas.width,canvas.height);bird.draw();drawPipes();drawScore();}
    function update(){if(!gameStarted) return;if(!gameOver){bird.update();updatePipes();}}
    function loop(){if(!gameStarted) drawStartScreen(); else{update();draw();frames++;} requestAnimationFrame(loop);}
    function triggerGameOver(){gameOver=true;if(score>bestScore)bestScore=score;setTimeout(resetGame,2000);}
    function resetGame(){pipes.length=0;bird.y=150;bird.speed=0;score=0;frames=0;gameOver=false;gameStarted=true;}
    function handleFlap(){if(!gameStarted){gameStarted=true;} else if(!gameOver){bird.flap();}}
    document.addEventListener("mousedown",handleFlap);
    document.addEventListener("touchstart",handleFlap);
    loop();

    // ===== Infinite Asteroids + Persistent Best Score =====
    const aCanvas = document.getElementById("asteroidsCanvas");
    const actx = aCanvas.getContext("2d");

    let ship, asteroids, bullets, aScore;
    let aBest = localStorage.getItem("asteroidsBest") ? parseInt(localStorage.getItem("asteroidsBest")) : 0;

    function resetAsteroids(){
      ship = {x:aCanvas.width/2, y:aCanvas.height/2, angle:0, velX:0, velY:0};
      asteroids = [];
      bullets = [];
      aScore = 0;
      for(let i=0;i<5;i++){
        asteroids.push({x:Math.random()*aCanvas.width,y:Math.random()*aCanvas.height,r:30,dx:(Math.random()*2-1)*1.5,dy:(Math.random()*2-1)*1.5});
      }
    }

    function drawShip(){
      actx.save();
      actx.translate(ship.x, ship.y);
      actx.rotate(ship.angle);
      actx.strokeStyle="white";
      actx.beginPath();
      actx.moveTo(10,0);
      actx.lineTo(-10,-7);
      actx.lineTo(-10,7);
      actx.closePath();
      actx.stroke();
      actx.restore();
    }

    function drawAsteroids(){
      actx.strokeStyle="white";
      for(let a of asteroids){
        actx.beginPath();
        actx.arc(a.x,a.y,a.r,0,Math.PI*2);
        actx.stroke();
      }
    }

    function drawBullets(){
      actx.fillStyle="white";
      for(let b of bullets){
        actx.beginPath();
        actx.arc(b.x,b.y,2,0,Math.PI*2);
        actx.fill();
      }
    }

    function updateAsteroids(){
      for(let a of asteroids){
        a.x+=a.dx;a.y+=a.dy;
        if(a.x<0) a.x=aCanvas.width;
        if(a.x>aCanvas.width) a.x=0;
        if(a.y<0) a.y=aCanvas.height;
        if(a.y>aCanvas.height) a.y=0;
      }
      // Randomly spawn new asteroids for infinite play
      if(Math.random()<0.005){
        asteroids.push({
          x:Math.random()*aCanvas.width,
          y:Math.random()*aCanvas.height,
          r:20+Math.random()*20,
          dx:(Math.random()*2-1)*1.5,
          dy:(Math.random()*2-1)*1.5
        });
      }
    }

    function updateBullets(){
      for(let i=bullets.length-1;i>=0;i--){
        let b=bullets[i];
        b.x+=b.dx;b.y+=b.dy;b.life--;
        if(b.life<=0) bullets.splice(i,1);
      }
    }

    function checkCollisions(){
      for(let i=asteroids.length-1;i>=0;i--){
        let a=asteroids[i];
        // Ship never dies
        for(let j=bullets.length-1;j>=0;j--){
          let b=bullets[j];
          if(Math.hypot(b.x-a.x,b.y-a.y)<a.r){
            bullets.splice(j,1);
            aScore+=10;
            if(aScore > aBest){
              aBest = aScore;
              localStorage.setItem("asteroidsBest", aBest);
            }
            if(a.r>15){
              asteroids.push({x:a.x,y:a.y,r:a.r/2,dx:(Math.random()*2-1)*2,dy:(Math.random()*2-1)*2});
              asteroids.push({x:a.x,y:a.y,r:a.r/2,dx:(Math.random()*2-1)*2,dy:(Math.random()*2-1)*2});
            }
            asteroids.splice(i,1);
            break;
          }
        }
      }
    }

    function loopAsteroids(){
      actx.fillStyle="black";
      actx.fillRect(0,0,aCanvas.width,aCanvas.height);

      ship.x+=ship.velX; ship.y+=ship.velY;
      if(ship.x<0) ship.x=aCanvas.width;
      if(ship.x>aCanvas.width) ship.x=0;
      if(ship.y<0) ship.y=aCanvas.height;
      if(ship.y>aCanvas.height) ship.y=0;
      ship.velX*=0.99; ship.velY*=0.99;

      drawShip();
      drawAsteroids();
      drawBullets();
      updateAsteroids();
      updateBullets();
      checkCollisions();

      actx.fillStyle="white";
      actx.font="16px Arial";
      actx.fillText(`Score: ${aScore} | Best: ${aBest}`, 10, 20);

      requestAnimationFrame(loopAsteroids);
    }

    let keys={};
    document.addEventListener("keydown",e=>{keys[e.code]=true;});
    document.addEventListener("keyup",e=>{keys[e.code]=false;});

    function shoot(){
      if(bullets.length<5){
        bullets.push({
          x:ship.x,
          y:ship.y,
          dx:Math.cos(ship.angle)*5,
          dy:Math.sin(ship.angle)*5,
          life:60
        });
      }
    }
    aCanvas.addEventListener("mousedown",shoot);
    aCanvas.addEventListener("touchstart",shoot);

    setInterval(()=>{
      if(keys["ArrowLeft"]) ship.angle-=0.1;
      if(keys["ArrowRight"]) ship.angle+=0.1;
      if(keys["ArrowUp"]){
        ship.velX+=Math.cos(ship.angle)*0.2;
        ship.velY+=Math.sin(ship.angle)*0.2;
      }
    },100);

    resetAsteroids();
    loopAsteroids();

    // ===== Calendar =====
    function generateCalendar(){
      const today=new Date();const year=today.getFullYear();const month=today.getMonth();
      const firstDay=new Date(year,month,1).getDay();const daysInMonth=new Date(year,month+1,0).getDate();
      let table="<tr>";const days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];
      for(let d of days){table+="<th>"+d+"</th>";}table+="</tr><tr>";
      for(let i=0;i<firstDay;i++){table+="<td></td>";}
      for(let day=1;day<=daysInMonth;day++){const currentDay=new Date(year,month,day).getDay();
        const isToday=day===today.getDate();
        table+=`<td class="${isToday?"today":""}">${day}</td>`;
        if(currentDay===6&&day<daysInMonth)table+="</tr><tr>";
      }
      table+="</tr>";document.getElementById("calendar").innerHTML=table;
    }
    generateCalendar();
  </script>
</body>
</html>
